import{d as L}from"./chunk-QSM5PVIX.js";import{a as R}from"./chunk-DZMYAQJV.js";import{c as V,d as N,f as b,g as T,h as F}from"./chunk-ZSSD5RUB.js";import{$a as n,Ba as M,Ga as O,Ma as m,Oa as f,Pa as h,Qa as x,Ra as v,Sa as t,Ta as e,Ua as u,Va as C,Wa as d,X as l,Xa as y,Y as s,ab as p,cb as I,db as S,fb as w,gb as k,sa as c,ta as _,wb as E}from"./chunk-YB7456R4.js";function j(a,o){a&1&&u(0,"img",11)}function A(a,o){a&1&&u(0,"img",12)}function K(a,o){if(a&1){let i=C();t(0,"tr")(1,"td",8),n(2),e(),t(3,"td",9),n(4),e(),t(5,"td",10),O(6,j,1,0,"img",11)(7,A,1,0,"img",12),e(),t(8,"td",13),n(9),w(10,"currency"),e(),t(11,"td",14)(12,"button",3),d("click",function(){let g=l(i).$implicit,P=y();return s(P.remove(g.id))}),n(13,"Remove"),e()()()}if(a&2){let i=o.$implicit;m("@fadeIn",void 0),c(2),p(i.name),c(2),p(i.category),c(2),f(i.category==="Fruit"?6:7),c(3),p(k(10,5,i.price))}}function B(a,o){a&1&&(t(0,"tr")(1,"td",15),n(2,"No items found"),e()())}var D=class a{constructor(o,i){this.stateSrv=o;this.router=i}listingKey="listingData";currentPage=1;itemsPerPage=4;totalPages=1;items=[];allItems=[];ngOnInit(){this.getItems()}updatePageItems(){let o=(this.currentPage-1)*this.itemsPerPage,i=o+this.itemsPerPage;this.items=this.allItems.slice(o,i)}getItems(){this.allItems=this.stateSrv.getSessionData(this.listingKey),this.totalPages=Math.ceil(this.allItems.length/this.itemsPerPage),this.updatePageItems()}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updatePageItems())}previousPage(){this.currentPage>1&&(this.currentPage--,this.updatePageItems())}remove(o){this.allItems=this.stateSrv.removeSessionItem(this.listingKey,o),this.totalPages=Math.ceil(this.allItems.length/this.itemsPerPage),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages),this.updatePageItems()}addNewRecord(){this.router.navigate(["/form"])}static \u0275fac=function(i){return new(i||a)(_(R),_(L))};static \u0275cmp=M({type:a,selectors:[["app-listing"]],decls:30,vars:5,consts:[[1,"container"],[1,"table-container"],[1,"add-record-container"],[3,"click"],[1,"image"],[1,"text-right"],[1,"pagination"],[3,"click","disabled"],["data-label","Name"],["data-label","Category"],["data-label","Image",1,"image"],["src","./assets/Fruit.png","alt",""],["src","./assets/Vegetable.png","alt",""],["data-label","Price",1,"text-right"],["data-label","Action",1,"text-right"],["colspan","5",1,"empty"]],template:function(i,r){if(i&1){let g=C();t(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),d("click",function(){return l(g),s(r.addNewRecord())}),n(4,"Add New Record"),e()(),t(5,"table")(6,"thead")(7,"tr")(8,"th"),n(9,"Name"),e(),t(10,"th"),n(11,"Category"),e(),t(12,"th",4),n(13,"Image"),e(),t(14,"th",5),n(15,"Price"),e(),t(16,"th",5),n(17,"Action"),e()()(),t(18,"tbody"),x(19,K,14,7,"tr",null,h,!1,B,3,0,"tr"),e()(),t(22,"div",6)(23,"button",7),d("click",function(){return l(g),s(r.previousPage())}),n(24,"Previous"),e(),t(25,"span"),n(26),e(),S(27),t(28,"button",7),d("click",function(){return l(g),s(r.nextPage())}),n(29,"Next"),e()()()()}if(i&2){c(19),v(r.items),c(4),m("disabled",r.currentPage===1),c(3),I("Page ",r.currentPage," of ",r.totalPages,"");let g=r.currentPage===r.totalPages||r.items.length<1;c(2),m("disabled",g)}},dependencies:[E],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:auto}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto;width:100%;margin:20px;padding-bottom:20px;box-shadow:#00000026 0 3px 3px}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .add-record-container[_ngcontent-%COMP%]{text-align:end}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .add-record-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#042940;color:#fff;border:none;padding:8px 12px;cursor:pointer;border-radius:4px;transition:background-color .3s;margin:15px 0}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .add-record-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2d73bc}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;width:100px}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right;width:100px}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-weight:700;padding:12px 15px;cursor:pointer}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 15px}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f3f3f3}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#00000061;color:#fff}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;gap:10px}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#042940;color:#fff;border:none;padding:8px 12px;cursor:pointer;border-radius:4px;transition:background-color .3s}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2d73bc}.container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#042940}@media (max-width: 768px){.image[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important}}button[_ngcontent-%COMP%]{background-color:#ff4d4d;color:#fff;border:none;padding:8px 12px;cursor:pointer;border-radius:4px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#ff1a1a}"],data:{animation:[V("fadeIn",[T("void",b({opacity:0})),F(":enter",[N("500ms ease-in",b({opacity:1}))])])]}})};export{D as ListingPage};
